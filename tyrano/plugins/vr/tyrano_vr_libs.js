(function($){$.vr={};$.vr.fadeIn=function(el_img,opt,cb){var opacity_anim_obj=document.createElement("a-animation");opacity_anim_obj.setAttribute("attribute","material.opacity");opacity_anim_obj.setAttribute("to",1);opacity_anim_obj.setAttribute("easing","linear");opacity_anim_obj.setAttribute("dur",parseInt(opt.time));opacity_anim_obj.addEventListener("animationend",function(e){opacity_anim_obj.remove();if(typeof cb=="function")cb()});el_img.append(opacity_anim_obj)};$.vr.fadeOut=function(el_img,
opt,cb){var opacity_anim_obj=document.createElement("a-animation");opacity_anim_obj.setAttribute("attribute","material.opacity");opacity_anim_obj.setAttribute("to",0);opacity_anim_obj.setAttribute("dur",parseInt(opt.time));opacity_anim_obj.addEventListener("animationend",function(e){opacity_anim_obj.remove();if(typeof cb=="function")cb()});el_img.append(opacity_anim_obj)};$.vr.setName=function(el_obj,str){str=$.trim(str);if(str=="")return;var array=str.split(",");for(var i=0;i<array.length;i++)el_obj.classList.add(array[i])};
$.vr.createElementFromHTML=function(html){var tempEl=document.createElement("div");tempEl.innerHTML=html;return tempEl.firstElementChild};$.vr.pos=function(obj){if(typeof obj=="object"){for(key in obj)if(key=="z")obj[key]=parseInt(obj[key])*-1;return obj}else return parseInt(obj)*-1};$.vr.sound=function(id){var el_audio=document.createElement("a-sound");el_audio.setAttribute("src","#"+id);el_audio.setAttribute("loop",false);el_audio.setAttribute("autoplay",true);el_audio.addEventListener("sound-ended",
function(){$(el_audio).remove()});document.querySelector("#vr_scene").appendChild(el_audio)};$.vr.exists=function(url){var current_storage=TYRANO.kag.stat.current_scenario;var line=parseInt(TYRANO.kag.stat.current_line)+1;$.get(url).done(function(){}).fail(function(){var error="[ERROR "+current_storage+":"+line+"\u884c\u76ee]\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\uff1a"+url;$.error_message(error)})};$.vr.checkAsset=function(id){var current_storage=TYRANO.kag.stat.current_scenario;var line=parseInt(TYRANO.kag.stat.current_line)+
1;if($("#vr_assets").find("#"+id).size());else{var error="[ERROR "+current_storage+":"+line+"\u884c\u76ee] id="+id+"\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002";$.error_message(error);TYRANO.kag.stat.is_strong_stop=true}};$.vr.error=function(msg){var current_storage=TYRANO.kag.stat.current_scenario;var line=parseInt(TYRANO.kag.stat.current_line)+1;$.get(url).done(function(){}).fail(function(){var error="[ERROR "+current_storage+":"+line+"\u884c\u76ee]\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\uff1a"+
url;$.error_message(error)})}})(jQuery);
